<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:osis="http://www.bibletechnologies.net/2003/OSIS/namespace">

 <!-- Transforms OSIS files created by usfm2osis.py for use in making SWORD modules !-->
  
  <xsl:template match="node()|@*">
    <xsl:copy>
       <xsl:apply-templates select="node()|@*"/>
    </xsl:copy>
  </xsl:template>

  <!-- remove runningHead titles which should only appear on print-like editions !-->
  <xsl:template match="osis:title[@type='runningHead']"/>
  
  <!-- remove USFM chapter labels, which appear as introductions in SWORD, and are auto-generated by front-ends !-->
  <xsl:template match="osis:title[@type='x-chapterLabel']"/>

  <!-- remove annotateRefs, which are auto-generated by SWORD front-ends, to prevent duplication !-->
  <xsl:template match="osis:reference[@type='annotateRef']"/>
  
  <!-- remove introduction elements that shouldn't appear in SWORD introductions !-->
  <xsl:template match="osis:milestone[@type='x-usfm-toc2']"/>
  <xsl:template match="osis:milestone[@type='x-usfm-toc3']"/>

  <!-- until osis2mod can pass <p> type attributes, this work-around acheives x-noindent paragraphs !-->
  <xsl:template match="osis:p[@type='x-noindent' or @type='x-noindent-quote']">
    <xsl:apply-templates/>
  </xsl:template>

</xsl:stylesheet>
